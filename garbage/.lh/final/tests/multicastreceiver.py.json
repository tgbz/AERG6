{
    "sourceFile": "final/tests/multicastreceiver.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1654517167507,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1654517560452,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,14 +1,14 @@\n import socket, sys, time, struct\r\n \r\n \r\n sock = socket.socket(socket.AF_INET6, socket.SOCK_DGRAM)\r\n-socket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\r\n+sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\r\n sock.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_MULTICAST_LOOP, True)\r\n sock.bind(('', 8080))\r\n \r\n mreq = struct.pack(\"16s15s\".encode('utf-8'),socket.inet_pton(socket.AF_INET6,'ff02::1'),(chr(0)*16).encode('utf-8'))\r\n-socket.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_JOIN_GROUP, mreq)\r\n+sock.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_JOIN_GROUP, mreq)\r\n \r\n while True:\r\n     data,addr = sock.recvfrom(2048)\r\n     data = data.decode()\r\n"
                },
                {
                    "date": 1654517629302,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n \r\n sock = socket.socket(socket.AF_INET6, socket.SOCK_DGRAM)\r\n sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\r\n sock.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_MULTICAST_LOOP, True)\r\n-sock.bind(('', 8080))\r\n+sock.bind(('', 10000))\r\n \r\n mreq = struct.pack(\"16s15s\".encode('utf-8'),socket.inet_pton(socket.AF_INET6,'ff02::1'),(chr(0)*16).encode('utf-8'))\r\n sock.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_JOIN_GROUP, mreq)\r\n \r\n"
                },
                {
                    "date": 1654518032849,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,11 @@\n import socket, sys, time, struct\r\n \r\n \r\n-sock = socket.socket(socket.AF_INET6, socket.SOCK_DGRAM)\r\n-sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\r\n-sock.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_MULTICAST_LOOP, True)\r\n-sock.bind(('', 10000))\r\n+addrinfo = socket.getaddrinfo(sys.argv[1], None)[0]\r\n \r\n-mreq = struct.pack(\"16s15s\".encode('utf-8'),socket.inet_pton(socket.AF_INET6,'ff02::1'),(chr(0)*16).encode('utf-8'))\r\n-sock.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_JOIN_GROUP, mreq)\r\n+s = socket.socket(addrinfo[0], socket.SOCK_DGRAM)\r\n \r\n-while True:\r\n-    data,addr = sock.recvfrom(2048)\r\n-    data = data.decode()\r\n-    print(data)\r\n+s.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_MULTICAST_HOPS, 20)\r\n \r\n+s.bind(('', 10000))\r\n+\r\n"
                },
                {
                    "date": 1654518126028,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,4 +8,12 @@\n s.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_MULTICAST_HOPS, 20)\r\n \r\n s.bind(('', 10000))\r\n \r\n+group_bin = socket.inet_pton(addrinfo[0], addrinfo[4][0])\r\n+\r\n+mreq = group_bin + struct.pack('@I', 0)\r\n+s.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_JOIN_GROUP, mreq)\r\n+\r\n+while True:\r\n+    data, addr = s.recvfrom(1500)\r\n+    print(str(addr) + ':' + str(data))\n\\ No newline at end of file\n"
                },
                {
                    "date": 1654518159451,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n import socket, sys, time, struct\r\n \r\n \r\n-addrinfo = socket.getaddrinfo(sys.argv[1], None)[0]\r\n+addrinfo = socket.getaddrinfo(group, None)[0]\r\n \r\n s = socket.socket(addrinfo[0], socket.SOCK_DGRAM)\r\n \r\n s.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_MULTICAST_HOPS, 20)\r\n@@ -15,5 +15,5 @@\n s.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_JOIN_GROUP, mreq)\r\n \r\n while True:\r\n     data, addr = s.recvfrom(1500)\r\n-    print(str(addr) + ':' + str(data))\n\\ No newline at end of file\n+    print(str(addr) + ':' + repr(data))\n\\ No newline at end of file\n"
                },
                {
                    "date": 1654518164874,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,7 @@\n import socket, sys, time, struct\r\n \r\n+group = 'ff02::1'\r\n \r\n addrinfo = socket.getaddrinfo(group, None)[0]\r\n \r\n s = socket.socket(addrinfo[0], socket.SOCK_DGRAM)\r\n"
                },
                {
                    "date": 1654518684716,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,20 +1,16 @@\n-import socket, sys, time, struct\r\n+import socket, struct\r\n \r\n group = 'ff02::1'\r\n+port = 5004\r\n \r\n-addrinfo = socket.getaddrinfo(group, None)[0]\r\n+sock = socket.socket(socket.AF_INET6, socket.SOCK_DGRAM, socket.IPPROTO_UDP)\r\n+sock.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\r\n \r\n-s = socket.socket(addrinfo[0], socket.SOCK_DGRAM)\r\n+sock.bind(('', port))\r\n \r\n-s.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_MULTICAST_HOPS, 20)\r\n+mreq = struct.pack(\"16sI\", socket.inet_pton(socket.AF_INET6, group), socket.INADDR_ANY)\r\n \r\n-s.bind(('', 10000))\r\n+sock.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_JOIN_GROUP, mreq)\r\n \r\n-group_bin = socket.inet_pton(addrinfo[0], addrinfo[4][0])\r\n\\ No newline at end of file\n-\r\n-mreq = group_bin + struct.pack('@I', 0)\r\n-s.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_JOIN_GROUP, mreq)\r\n-\r\n while True:\r\n-    data, addr = s.recvfrom(1500)\r\n-    print(str(addr) + ':' + repr(data))\n+    print(sock.recv(10240))\n\\ No newline at end of file\n"
                }
            ],
            "date": 1654517167507,
            "name": "Commit-0",
            "content": "import socket, sys, time, struct\r\n\r\n\r\nsock = socket.socket(socket.AF_INET6, socket.SOCK_DGRAM)\r\nsocket.setsockopt(socket.SOL_SOCKET, socket.SO_REUSEADDR, 1)\r\nsock.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_MULTICAST_LOOP, True)\r\nsock.bind(('', 8080))\r\n\r\nmreq = struct.pack(\"16s15s\".encode('utf-8'),socket.inet_pton(socket.AF_INET6,'ff02::1'),(chr(0)*16).encode('utf-8'))\r\nsocket.setsockopt(socket.IPPROTO_IPV6, socket.IPV6_JOIN_GROUP, mreq)\r\n\r\nwhile True:\r\n    data,addr = sock.recvfrom(2048)\r\n    data = data.decode()\r\n    print(data)\r\n\r\n"
        }
    ]
}