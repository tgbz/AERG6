{
    "sourceFile": "Receiver.py",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1649326991814,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1649426366460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,10 +8,8 @@\n         self.buffer = 2048\n         self.s = socket\n         self.f=open(filepath,'wb')\n     def worker(self):\n-        self.s = socket.socket(socket.AF_INET6, socket.SOCK_DGRAM)\n-        self.s.bind((self.ip, self.port))\n         self.s.settimeout(self.timeout)\n         data,addr = self.s.recvfrom(self.buffer)\n         if data:\n             print(\"file received\\n\")\n"
                },
                {
                    "date": 1649426440029,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n class Receiver():\n     def __init__(self,ip,port,socket,filepath):\n         self.ip = ip\n         self.port = port\n-        self.timeout = 5\n+        self.timeout = 20\n         self.buffer = 2048\n         self.s = socket\n         self.f=open(filepath,'wb')\n     def worker(self):\n"
                },
                {
                    "date": 1649428443167,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,8 +8,9 @@\n         self.buffer = 2048\n         self.s = socket\n         self.f=open(filepath,'wb')\n     def worker(self):\n+        print(\"In Receiver Worker\")\n         self.s.settimeout(self.timeout)\n         data,addr = self.s.recvfrom(self.buffer)\n         if data:\n             print(\"file received\\n\")\n"
                }
            ],
            "date": 1649326991814,
            "name": "Commit-0",
            "content": "import socket, select, threading\n\nclass Receiver():\n    def __init__(self,ip,port,socket,filepath):\n        self.ip = ip\n        self.port = port\n        self.timeout = 5\n        self.buffer = 2048\n        self.s = socket\n        self.f=open(filepath,'wb')\n    def worker(self):\n        self.s = socket.socket(socket.AF_INET6, socket.SOCK_DGRAM)\n        self.s.bind((self.ip, self.port))\n        self.s.settimeout(self.timeout)\n        data,addr = self.s.recvfrom(self.buffer)\n        if data:\n            print(\"file received\\n\")\n            filename = data.decode()\n        while True:\n            ready = select.select([self.s],[],[],self.timeout)\n            if ready[0]:\n                data,addr = self.s.recvfrom(self.buffer)\n                if data:\n                    self.f.write(data)\n            else:\n                print(\"file transfer complete\")\n                self.f.close()\n                break\n        return 1\n        "
        }
    ]
}